"use strict";const ajaxURL="music-fc-ajax.php";function addClickListeners(){addEditDeleteListeners(),$("#student-entry").on("submit",(function(t){t.preventDefault(),t.stopImmediatePropagation();let e=getFormData("student-entry");e.rawInput="From Admin Panel",adminUpdate(e,"add-swipe",()=>{alert("Student entry added successfully!")}),$("#student-entry-modal").modal("hide")})),$("#admin-level").on("submit",(function(t){t.preventDefault(),t.stopImmediatePropagation(),adminUpdate(getFormData("admin-level"),"admin-chg-priv",refreshAdminList),$("#edit-admin-modal").modal("hide")})),$("#student-entry-modal, #edit-admin-modal").on("hidden.bs.modal",(function(t){$("#student-entry .form-group div input").each((function(){"event"!=$(this).attr("id")&&$(this).val("")}))})),$("#swipe-display").on("submit",(function(t){t.preventDefault(),t.stopImmediatePropagation(),adminUpdate(getFormData("swipe-display"),"swipe-list",updateHTML,"result-div")})),$("#add-admin").on("submit",(function(t){t.preventDefault(),t.stopImmediatePropagation(),adminUpdate(getFormData("add-admin"),"admin-add",refreshAdminList),$("#add-admin-modal").modal("hide")})),$("#all-btn").on("click",(function(t){t.preventDefault();adminUpdate({},"swipe-list",updateHTML,"result-div")}))}function addEditDeleteListeners(){$(".edit-btn").on("click",(function(t){let e=parseInt($(this).parent().siblings("input").val());$("#edit-target").val(e)})),$(".delete-btn").on("click",(function(t){let e=parseInt($(this).parent().siblings("input").val()),a={};a.id=e,adminUpdate(a,"admin-delete",refreshAdminList)}))}function adminUpdate(t,e,a=(()=>{}),...n){"function"==typeof a?(t.action=e,doAjax(t).then(t=>{switch(parseInt(t)){case 1:a();break;case 0:console.error("There was a problem with your request.");break;default:isNaN(parseInt(t))&&a(t,...n)}})):console.error('Parameter "callback" is not a function.')}function refreshAdminList(){doAjax({action:"admin-get-all"}).then(t=>{updateHTML(t,"admin-result")}),addEditDeleteListeners()}function getSwipeData(t){t.action="swipe-list",doAjax(t).then(t=>{updateHTML(t,"result-div")})}function getFormData(t){const e=$("#"+t).serializeArray();let a={};return e.forEach(t=>{a[t.name]=t.value}),a}function updateHTML(t,e){$("#"+e).html(t)}async function doAjax(t){let e="";try{e=await $.ajax({url:ajaxURL,method:"post",data:t})}catch(t){console.error(t)}return e}$(document).ready((function(){addClickListeners()}));